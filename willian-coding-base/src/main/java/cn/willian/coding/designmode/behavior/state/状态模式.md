## 状态模式
状态模式(State Pattern)：允许一个对象在其内部状态改变时改变它的行为，对象看起来似乎修改了它的类。其别名为状态对象(Objects for States)，状态模式是一种对象行为型模式。

* Context（环境类）：环境类又称为上下文类，它是拥有多种状态的对象。由于环境类的状态存在多样性且在不同状态下对象的行为有所不同，因此将状态独立出去形成单独的状态类。在环境类中维护一个抽象状态类State的实例，这个实例定义当前状态，在具体实现时，它是一个State子类的对象。
* State（抽象状态类）：它用于定义一个接口以封装与环境类的一个特定状态相关的行为，在抽象状态类中声明了各种不同状态对应的方法，而在其子类中实现类这些方法，由于不同状态下对象的行为可能不同，因此在不同子类中方法的实现可能存在不同，相同的方法可以写在抽象状态类中。
* ConcreteState（具体状态类）：它是抽象状态类的子类，每一个子类实现一个与环境类的一个状态相关的行为，每一个具体状态类对应环境的一个具体状态，不同的具体状态类其行为有所不同。
## 类用例图

```mermaid
%% classDiagram 定义类图
%% - 私有
%% + 公有
%% # 受保护
%% ~ 包/内部
%% $ 静态方法、静态变量
%% * 抽象方法

%% <<interface>> 接口
%% <<abstract>> 抽象类
%% <<service>> 服务等级
%% <<enumeration>> 枚举

%% ..> 依赖：只要在类中引用了另一个类的类，那么它们之间就是依赖关系。比如类A中有方法m，方法m的返回值类型为类B，此时，类A与类B依赖。
%% --> 关联：相较于依赖关系，关联关系的依赖性更高。比如类A中有成员属性b，此时类A与类B关联。
%% --o 聚合：关联性是更强的关联关系。是整体和个体的关系。但二者可分割。比如类A中有成员属性b，并且属性b通过setter赋值，此时二者就是聚合关系。
%% *-- 组合: 关联性是更强的关联关系。是整体和部分的关系。二者不可分割。比如类A中有成员属性b，并且属性b是在类A的构造方法中赋值，此时二者就是组合关系。
%% ..|> 实现: 类A实现了类B（接口或抽象类）
%% -–|> 继承: 类A继承了类B

classDiagram
    
class Context{
    - state : State
    + request()
    + setState(State s)
}
note for Context "....\n state.handle();\n...."

class State{
    + handle()
}

class ConcreteStateA{
    + handle()
}

class ConcreteStateB{
    + handle()
}

ConcreteStateA ..|> State
ConcreteStateB ..|> State
Context o-- State : state
```